{"version":3,"file":"static/js/400.0932c99b.chunk.js","mappings":"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","sources":["components/Header.jsx","components/Sidebar.jsx","components/ChatMessage.jsx","components/ChatRoom.jsx","components/RoomsSidebar.jsx","App.js","UserContext.jsx"],"sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faHouseUser as fasHouseUser, faEnvelope as fasEnvelope, faUser as fasUser, faSignOut} from '@fortawesome/free-solid-svg-icons';\nimport { auth } from \"../firebase/config\";\nimport { signOut } from \"firebase/auth\";\nimport { faEnvelope, faUser} from '@fortawesome/free-regular-svg-icons';\nimport { Link, NavLink } from \"react-router-dom\";\nimport { UserContext } from \"../UserContext\";\nimport { useContext } from \"react\";\nexport default function Header() {\n  const user = useContext(UserContext); \n  return (\n    <div className=\"\">\n      <div className=\"p-4 w-full hidden md:flex backdrop-blur-sm bg-slate-800/70 absolute top-0 left-0 right-0\">\n        <Link to={`/p/${user&&user.username}`} className=\"shrink-0 cursor-pointer hover:scale-110 transition\">\n            <img className=\"h-10 w-10 object-cover rounded-full\" src={0||`https://avatars.dicebear.com/api/initials/${user.fullName}.svg`}alt=\"Current profile photo\" />\n        </Link>\n        <button onClick={()=>signOut(auth)} className=\"ml-auto transition h-10 w-10 flex items-center justify-center rounded-full hover:bg-gray-600 hover:scale-110\">\n            <FontAwesomeIcon className=\"text-2xl\" icon={faSignOut} />\n        </button>\n      </div>\n      <div className=\"p-4 w-full flex justify-around md:hidden backdrop-blur-sm bg-slate-800/70 absolute top-0 left-0 right-0\">\n      <NavLink to=\"/\" className=\"transition rounded-full flex hover:bg-gray-600 hover:scale-110 h-8 w-8 items-center justify-center\">\n                {({ isActive }) => (\n                    <div className=\"items-center flex\">\n                        <FontAwesomeIcon className=\"text-base\" icon={ fasHouseUser  } />\n                    </div>\n                )}\n            </NavLink>\n            <NavLink to=\"/messages\" className=\"transition rounded-full flex hover:bg-gray-600 hover:scale-110 h-8 w-8 items-center justify-center\">\n                {({ isActive }) => (\n                    <div className=\"items-center flex\">\n                        <FontAwesomeIcon className=\"text-base\" icon={ faEnvelope  } />\n                    </div>\n                )}\n            </NavLink>\n            <NavLink to={`/p/${user&&user.id}`}  className=\"transition rounded-full flex hover:bg-gray-600 hover:scale-110 h-8 w-8 items-center justify-center\">\n                {({ isActive }) => (\n                    <div className=\"items-center flex\">\n                        <FontAwesomeIcon className=\"text-base\" icon={ faUser  } />\n                    </div>\n                )}\n            </NavLink>\n        <button onClick={()=>signOut(auth)} className=\"transition h-8 w-8 flex items-center justify-center rounded-full hover:bg-gray-600 hover:scale-110\">\n            <FontAwesomeIcon className=\"text-base\" icon={faSignOut} />\n        </button>\n      </div>\n    </div>\n  )\n}\n","import { Link, NavLink } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHouseUser as fasHouseUser, faEnvelope as fasEnvelope, faUser as fasUser} from '@fortawesome/free-solid-svg-icons';\nimport { faEnvelope, faUser} from '@fortawesome/free-regular-svg-icons';\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { useAuth } from \"../FirebaseContext\";\nimport { UserContext } from \"../UserContext\";\nimport { useContext } from \"react\";\n\n\nexport default function Sidebar() {\n  const currentUser = useAuth();\n  const user = useContext(UserContext);\n  console.log(currentUser.photoURL)\n  return (\n      <div className=\"h-screen w-1/4 hidden md:flex flex-col items-end\">\n          <div className=\"lg:mr-14 h-full flex flex-col\">\n            <div className=\"text-4xl flex items-center justify-center mt-7 w-16 h-16 rounded-full hover:bg-gray-600\"><FontAwesomeIcon icon={faTwitter}/></div>\n            <NavLink to=\"/\" className=\"mt-4 px-4 transition rounded-full hover:bg-gray-600 hover:scale-110 text-xl p-3\">\n                {({ isActive }) => (\n                    <div className=\"items-center flex\">\n                        <FontAwesomeIcon className=\"text-2xl\" icon={ fasHouseUser  } />\n                        <span className=\" ml-4\">Home</span>\n                    </div>\n                )}\n            </NavLink>\n            <NavLink to=\"/messages\" className=\"mt-4 px-4 transition rounded-full hover:bg-gray-600 hover:scale-110 text-xl p-3\">\n                {({ isActive }) => (\n                    <div className=\"items-center flex\">\n                        <FontAwesomeIcon className=\"text-2xl\" icon={ isActive?fasEnvelope: faEnvelope } />\n                        <span className=\" ml-4\">Messages</span>\n                    </div>\n                )}\n            </NavLink>\n            <NavLink to={`/p/${user&&user.id}`} className=\"mt-4 px-4 transition rounded-full hover:bg-gray-600 hover:scale-110 text-xl p-3\">\n                {({ isActive }) => (\n                    <div className=\"items-center flex\">\n                        <FontAwesomeIcon className=\"text-2xl\" icon={ isActive?fasUser: faUser } />\n                        <span className=\" ml-4\">Profile</span>\n                    </div>\n                )}\n            </NavLink>\n            <Link to=\"/\" className=\"mt-4 text-center py-4 rounded-full w-48 hover:scale-110 transition font-semibold bg-blue-400 hover:bg-blue-500\">\n              Tweet\n            </Link>\n            <Link to={`/p/${user.id}`} type=\"button\" className=\"flex mt-auto p-2 w-full mb-10 transition rounded-full hover:bg-gray-600 hover:scale-110\">\n                <div className=\"shrink-0\">\n                    <img className=\"h-10 w-10 object-cover rounded-full\" src={0||`https://avatars.dicebear.com/api/initials/${currentUser.displayName}.svg`} alt=\"Current profile photo\" />\n                </div>\n                <div className=\"ml-3 text-left overflow-hidden\">\n                    <p className=\"text-sm font-semibold\">{currentUser.displayName}</p>\n                    <p className=\"text-sm font-medium text-slate-400\">@{user&&user.username}</p>\n                </div>\n            </Link>\n\n          </div>\n      </div>\n  )\n}\n","import { useContext } from \"react\";\nimport { UserContext } from \"../UserContext\";\n\nexport default function ChatMessage({text, timestamp, userId}) {\n\tconst currentUser = useContext(UserContext);\n\tconst messageStyle = userId === currentUser.id ? 'rounded-br-none self-end' : 'rounded-bl-none bg-blue-600'\n  return (\n    <div className={`bg-blue-400   rounded-md p-2 m-1 ${messageStyle}`}>{text}</div>\n  )\n}\n","import { onSnapshot } from \"firebase/firestore\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { addMessage, getMessages } from \"../firebase/config\";\nimport { UserContext } from \"../UserContext\";\nimport ChatMessage from \"./ChatMessage\";\n\n\nexport default function ChatRoom() {\n  const { roomId } = useParams();\n  const [text, setText] = useState('');\n\tconst [messages, setMessages] = useState([]);\n\tconst currentUser = useContext(UserContext);\n\t\n\tuseEffect(()=>{\n\t\tconst recentMessagesQuery = getMessages(roomId);\n\t\tconst unsub = onSnapshot(recentMessagesQuery, function(snapshot) {\n\t\t\tsetMessages(snapshot.docs.map( doc => {\n\t\t\t\treturn {id: doc.id,...doc.data()}\n\t\t\t} \n\t\t\t))\n\n\t\t});\n\t\treturn unsub\n\n\t},[roomId])\n  async function handleText(){\n\t\tif(text!=''){\n\t\t\taddMessage(currentUser.id,roomId,text);\n\t\t\tsetText('');\n\t\t}\n  }\n  return (\n\t\t<div className=\"w-full hidden lg:flex lg:w-2/5 lg:mr-12 h-screen border-r border-gray-600 flex-col\">\n\t\t\t<div className=\"p-2 grow flex flex-col-reverse overflow-y-scroll tl items-start\">\n\t\t\t\t{ messages && messages.map( msg => <ChatMessage key={msg.id} text={msg.text} userId={msg.userId} timestamp={msg.timestamp} /> ) }\n\t\t\t</div>\n\t\t\t<div className=\"p-2 h-24 border-t border-gray-600 overflow-hidden w-full flex\">\n\t\t\t\t<input \n\t\t\t\t\tclassName=\"w-full font-medium text-md bg-transparent  pl-4 bg-gray-600 rounded-full rounded-r-none focus-visible:outline-none\"\n\t\t\t\t\tid=\"textt\" value={text} onChange={e => setText(e.target.value)} placeholder=\"Start a new message\"  type=\"text\" />\n\t\t\t\t\t<button onClick={handleText} type=\"button\" className=\"border-l p-4 bg-gray-600 rounded-full rounded-l-none hover:bg-gray-700\">\n\t\t\t\t\t\tReply\n\t\t\t\t\t</button>  \n\t\t\t</div>\n\t\t</div>\t\t        \n\n\t)\n}\n","\nexport default function RoomsSidebar() {\n\n  return (\n\t\t<div className=\"hidden lg:block w-2/5 mr-12 border-r border-gray-600\">\n\t\t\t<div className=\"w-80 mx-auto my-80\">\n\t\t\t<h2 className=\"font-bold text-3xl\">Select a message</h2>\n\t\t\t<p className=\"text-sm text-gray-400 mt-2\">Choose from your existing conversations, start a new one, or just keep swimming.</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","\nimport { onSnapshot } from \"firebase/firestore\";\nimport { useEffect, useState } from \"react\";\nimport { Outlet, Route, Routes, useNavigate } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Sidebar from \"./components/Sidebar\";\nimport { getUser } from \"./firebase/config\";\nimport {useAuth} from \"./FirebaseContext\";\nimport {UserContext} from \"./UserContext\"\n\n\nimport Suggestions from \"./components/Suggestions\";\nimport ChatRoom from \"./components/ChatRoom\";\nimport RoomsSidebar from \"./components/RoomsSidebar\";\n\nfunction App() {\n  const currentUser = useAuth();\n  const navigate = useNavigate();\n  const [currentUserDb, setCurrentUserDb] = useState();\n\n  useEffect(()=>{\n    if(!currentUser){\n      navigate('/login');\n      return undefined\n    }\n    const unsubscribe = onSnapshot(getUser(currentUser.uid), (querySnapshot) => {\n      setCurrentUserDb({id:querySnapshot.docs[0].id,...querySnapshot.docs[0].data()})\n    });\n    return unsubscribe;\n  },[currentUser]);\n\n  return (\n    currentUserDb&&currentUser&&(\n      <div className=\"App flex\">\n        <UserContext.Provider value={currentUserDb}>\n          <Sidebar/>\n          <div className=\"w-full lg:w-2/5 border-x relative border-gray-600 h-screen\">\n            <Header currentUserDb={currentUserDb} className=\"absolute z-50 top-0 left-0 right-0\"/>\n\n            <div className=\"overflow-y-scroll tl h-full\">\n              <div className=\"p-9\"></div>\n              <Outlet/>\n            </div>\n          </div>\n          <Routes>\n            {/* <Route index element={<Suggestions user={currentUserDb}/>} /> */}\n            <Route\n              path=\"messages\"\n              element={<RoomsSidebar />}\n            />\n            <Route\n              path=\"messages/:roomId\"\n              element={<ChatRoom />}\n            />\n          </Routes>\n        </UserContext.Provider>\n      </div>\n    )\n  );\n}\n\nexport default App;\n","import { createContext } from \"react\";\n\nexport const UserContext = createContext({});"],"names":["Header","user","useContext","UserContext","className","to","username","src","fullName","alt","onClick","signOut","auth","icon","faSignOut","isActive","fasHouseUser","faEnvelope","id","faUser","Sidebar","currentUser","useAuth","console","log","photoURL","faTwitter","fasEnvelope","fasUser","type","displayName","ChatMessage","text","messageStyle","timestamp","userId","ChatRoom","roomId","useParams","useState","setText","messages","setMessages","addMessage","useEffect","recentMessagesQuery","getMessages","onSnapshot","snapshot","docs","map","doc","data","msg","value","onChange","e","target","placeholder","RoomsSidebar","navigate","useNavigate","currentUserDb","setCurrentUserDb","getUser","uid","querySnapshot","path","element","createContext"],"sourceRoot":""}