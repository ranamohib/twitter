{"version":3,"file":"static/js/694.dd584672.chunk.js","mappings":"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","sources":["UserContext.jsx","components/Tweet.jsx","pages/Tweetpg.jsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { createContext } from \"react\";\n\nexport const UserContext = createContext({});","import { doc, getDoc } from \"firebase/firestore\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { db, updateLikes } from \"../firebase/config\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart, faComment } from '@fortawesome/free-regular-svg-icons';\nimport { faHeart as heartSolid,faComment as commentSolid } from '@fortawesome/free-solid-svg-icons';\nimport { useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../UserContext\";\nexport default function Tweet({data}){\n  const {likes, replies, tweet, user, timestamp, id } = data;\n  const [acc, setAcc] = useState({});\n  const navigate = useNavigate();\n  const currentUser = useContext(UserContext);\n  useEffect(()=>{\n    (async function(){\n      const docSnap = await getDoc(doc(db,'users',user));\n      setAcc({id:docSnap.id,...docSnap.data()})\n    })()\n  },[])\n  function handleLike(e,id, user){\n    e.stopPropagation();\n    updateLikes(id,user);\n  }\n  function handleProfile(e){\n    e.stopPropagation();\n    navigate('/p/'+acc.id);\n  }\n\n  return (\n    <div onClick={()=>navigate('/'+id)} className=\"w-full border-b p-4 border-gray-600 hover:bg-[#1C2732] cursor-pointer\">\n            \n      <li className=\"flex py-4 first:pt-0 last:pb-0\">\n          <div onClick={(e)=> handleProfile(e)} className=\"shrink-0\">\n              <img className=\"h-12 w-12 object-cover rounded-full\" src={acc.photoURL||`https://avatars.dicebear.com/api/initials/${acc.fullName}.svg`} alt=\"Current profile photo\" />\n          </div>\n          <div className=\"ml-3 w-full\">\n              <p className=\"text-sm font-semibold\">{acc&&acc.fullName}<span className=\"text-sm font-medium text-slate-400 truncate\"> @{acc&&acc.username} . {timestamp}</span></p>\n              <p className=\"mt-1 text-sm font-medium\">{tweet}</p>\n              <div className=\"flex gap-24 mt-2\">\n                <button onClick={()=>navigate('/'+id)} className={`-ml-2 flex w-14 items-center group text-${replies.find(x => x.user === currentUser.id)?'blue':'gray'}-400`}>\n                  <div className=\"transition h-8 w-8 flex items-center justify-center rounded-full group-hover:bg-blue-400/20\"><FontAwesomeIcon className=\"group-hover:text-blue-400\" icon={replies.find(x => x.user === currentUser.id)?commentSolid:faComment}/></div>\n                  <span className=\"ml-1 text-sm group-hover:text-blue-400\">{replies.length||''}</span>\n                </button>\n                <button onClick={(e)=> handleLike(e,id,currentUser.id)} className={`flex items-center text-gray-400 group ${likes.includes(currentUser.id)&&'text-pink-700'}`}>\n                  <div className=\"transition h-8 w-8 flex items-center justify-center rounded-full group-hover:bg-pink-700/20\"><FontAwesomeIcon className=\"group-hover:text-pink-700\" icon={likes.includes(currentUser.id)?heartSolid:faHeart}/></div>\n                  <span className=\"ml-1 text-sm group-hover:text-pink-700\">{likes.length||''}</span>\n                </button>\n              </div>\n          </div>\n      </li>\n    </div>\n  )\n}\n","import { useState,useEffect, useContext } from \"react\";\nimport Tweet from \"../components/Tweet\";\nimport { addReply, addTweet, db, getTweet } from \"../firebase/config\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { useParams } from \"react-router-dom\";\nimport { UserContext } from \"../UserContext\";\n\nexport default function Tweetpg() {\n  const [data, setData ] = useState(false);\n  const [tweet, setTweet] = useState('');\n  const [replies, setReplies] = useState([]);\n  const user = useContext(UserContext);\n  const { tweetID } = useParams();\n\n  useEffect(()=>{\n    const unsub = onSnapshot(doc(db, \"timeline\", tweetID), (doc) => {\n      const {timestamp, ...tweetData} = doc.data()\n      setData({...tweetData, timestamp:timestamp&&timestamp.toDate().toLocaleDateString(), id: doc.id,});\n\n    });\n\n    return unsub\n  },[tweetID]);\n  useEffect(()=>{\n    (async function(){\n      if(data.replies){\n        setReplies( await Promise.all(data.replies.map(async reply=>{\n          const tweet = await getTweet(reply.id);\n          const {timestamp, ...dataWithoutTS} = tweet;\n          return <Tweet key={reply.id} data={{...dataWithoutTS, timestamp:timestamp&&timestamp.toDate().toLocaleDateString()}} />\n        })));\n    }\n    })()\n  },[data]);\n  \n  async function handleTweet(){\n    const id = (await addTweet(user.id,tweet)).id;\n    addReply(tweetID, {id, user:user.id})\n    setTweet('');\n  }\n  return (\n<>\n  {data&&<Tweet data={data}/>}\n  {user&&<div className=\" w-full border-b p-4 border-gray-600\">\n    <div className=\"flex items-center\">\n        <div className=\"shrink-0\">\n            <img className=\"h-12 w-12 object-cover rounded-full\" src={user.photo||`https://avatars.dicebear.com/api/initials/${user.fullName}.svg`} alt=\"Current profile photo\" />\n        </div>\n        <div className=\"ml-3 overflow-hidden w-full flex\">\n          <input \n            className=\"w-full font-medium text-lg bg-transparent  pl-4 bg-gray-600 rounded-full rounded-r-none focus-visible:outline-none\"\n            id=\"tweet\" placeholder=\"Tweet your reply\" value={tweet} onChange={e => setTweet(e.target.value)} type=\"text\" />\n\n\n            <button onClick={handleTweet} type=\"button\" className=\"border-l p-4 bg-gray-600 rounded-full rounded-l-none hover:bg-gray-700\">\n              Reply\n            </button>  \n\n        </div>\n    </div>\n  </div>}\n  {replies}\n  <div className=\"h-52\"></div>\n</>\n  )\n}\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["UserContext","createContext","Tweet","data","likes","replies","tweet","user","timestamp","id","useState","acc","setAcc","navigate","useNavigate","currentUser","useContext","useEffect","getDoc","doc","db","docSnap","onClick","className","e","stopPropagation","handleProfile","src","photoURL","fullName","alt","username","find","x","icon","commentSolid","faComment","length","updateLikes","handleLike","includes","heartSolid","faHeart","Tweetpg","setData","setTweet","setReplies","tweetID","useParams","addTweet","addReply","onSnapshot","tweetData","toDate","toLocaleDateString","Promise","all","map","reply","getTweet","dataWithoutTS","photo","placeholder","value","onChange","target","type","_objectWithoutProperties","source","excluded","key","i","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"sourceRoot":""}