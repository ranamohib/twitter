"use strict";(self.webpackChunktwitter=self.webpackChunktwitter||[]).push([[400],{9400:function(e,s,t){t.r(s),t.d(s,{default:function(){return S}});var r=t(1413),n=t(885),l=t(9062),a=t(2791),c=t(6871),i=t(4483),o=t(3174),d=t(3273),u=t(2291),x=t(1297),m=t(3504),f=t(761),h=t(184);function v(){var e=(0,a.useContext)(f.S);return(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("div",{className:"p-4 w-full hidden md:flex backdrop-blur-sm bg-slate-800/70 absolute top-0 left-0 right-0",children:[(0,h.jsx)(m.rU,{to:"/p/".concat(e&&e.username),className:"shrink-0 cursor-pointer hover:scale-110 transition",children:(0,h.jsx)("img",{className:"h-10 w-10 object-cover rounded-full",src:"https://avatars.dicebear.com/api/initials/".concat(e.fullName,".svg"),alt:"Current profile photo"})}),(0,h.jsx)("button",{onClick:function(){return(0,u.w7)(d.I8)},className:"ml-auto transition h-10 w-10 flex items-center justify-center rounded-full hover:bg-gray-600 hover:scale-110",children:(0,h.jsx)(i.G,{className:"text-2xl",icon:o.HEx})})]}),(0,h.jsxs)("div",{className:"p-4 w-full flex justify-around md:hidden backdrop-blur-sm bg-slate-800/70 absolute top-0 left-0 right-0",children:[(0,h.jsx)(m.OL,{to:"/",className:"transition rounded-full flex hover:bg-gray-600 hover:scale-110 h-8 w-8 items-center justify-center",children:function(e){e.isActive;return(0,h.jsx)("div",{className:"items-center flex",children:(0,h.jsx)(i.G,{className:"text-base",icon:o.lNt})})}}),(0,h.jsx)(m.OL,{to:"/messages",className:"transition rounded-full flex hover:bg-gray-600 hover:scale-110 h-8 w-8 items-center justify-center",children:function(e){e.isActive;return(0,h.jsx)("div",{className:"items-center flex",children:(0,h.jsx)(i.G,{className:"text-base",icon:x.FU$})})}}),(0,h.jsx)(m.OL,{to:"/p/".concat(e&&e.id),className:"transition rounded-full flex hover:bg-gray-600 hover:scale-110 h-8 w-8 items-center justify-center",children:function(e){e.isActive;return(0,h.jsx)("div",{className:"items-center flex",children:(0,h.jsx)(i.G,{className:"text-base",icon:x.ILF})})}}),(0,h.jsx)("button",{onClick:function(){return(0,u.w7)(d.I8)},className:"transition h-8 w-8 flex items-center justify-center rounded-full hover:bg-gray-600 hover:scale-110",children:(0,h.jsx)(i.G,{className:"text-base",icon:o.HEx})})]})]})}var j=t(7118),p=t(5810);function g(){var e=(0,p.a)(),s=(0,a.useContext)(f.S);return console.log(e.photoURL),(0,h.jsx)("div",{className:"h-screen w-1/4 hidden md:flex flex-col items-end",children:(0,h.jsxs)("div",{className:"lg:mr-14 h-full flex flex-col",children:[(0,h.jsx)("div",{className:"text-4xl flex items-center justify-center mt-7 w-16 h-16 rounded-full hover:bg-gray-600",children:(0,h.jsx)(i.G,{icon:j.mdU})}),(0,h.jsx)(m.OL,{to:"/",className:"mt-4 px-4 transition rounded-full hover:bg-gray-600 hover:scale-110 text-xl p-3",children:function(e){e.isActive;return(0,h.jsxs)("div",{className:"items-center flex",children:[(0,h.jsx)(i.G,{className:"text-2xl",icon:o.lNt}),(0,h.jsx)("span",{className:" ml-4",children:"Home"})]})}}),(0,h.jsx)(m.OL,{to:"/messages",className:"mt-4 px-4 transition rounded-full hover:bg-gray-600 hover:scale-110 text-xl p-3",children:function(e){var s=e.isActive;return(0,h.jsxs)("div",{className:"items-center flex",children:[(0,h.jsx)(i.G,{className:"text-2xl",icon:s?o.FU$:x.FU$}),(0,h.jsx)("span",{className:" ml-4",children:"Messages"})]})}}),(0,h.jsx)(m.OL,{to:"/p/".concat(s&&s.id),className:"mt-4 px-4 transition rounded-full hover:bg-gray-600 hover:scale-110 text-xl p-3",children:function(e){var s=e.isActive;return(0,h.jsxs)("div",{className:"items-center flex",children:[(0,h.jsx)(i.G,{className:"text-2xl",icon:s?o.ILF:x.ILF}),(0,h.jsx)("span",{className:" ml-4",children:"Profile"})]})}}),(0,h.jsx)(m.rU,{to:"/",className:"mt-4 text-center py-4 rounded-full w-48 hover:scale-110 transition font-semibold bg-blue-400 hover:bg-blue-500",children:"Tweet"}),(0,h.jsxs)(m.rU,{to:"/p/".concat(s.id),type:"button",className:"flex mt-auto p-2 w-full mb-10 transition rounded-full hover:bg-gray-600 hover:scale-110",children:[(0,h.jsx)("div",{className:"shrink-0",children:(0,h.jsx)("img",{className:"h-10 w-10 object-cover rounded-full",src:"https://avatars.dicebear.com/api/initials/".concat(e.displayName,".svg"),alt:"Current profile photo"})}),(0,h.jsxs)("div",{className:"ml-3 text-left overflow-hidden",children:[(0,h.jsx)("p",{className:"text-sm font-semibold",children:e.displayName}),(0,h.jsxs)("p",{className:"text-sm font-medium text-slate-400",children:["@",s&&s.username]})]})]})]})})}var b=t(7757),N=t.n(b);var w=t(5861);function y(e){var s=e.text,t=(e.timestamp,e.userId===(0,a.useContext)(f.S).id?"rounded-br-none self-end":"rounded-bl-none bg-blue-600");return(0,h.jsx)("div",{className:"bg-blue-400   rounded-md p-2 m-1 ".concat(t),children:s})}function k(){var e=(0,c.UO)().roomId,s=(0,a.useState)(""),t=(0,n.Z)(s,2),i=t[0],o=t[1],u=(0,a.useState)([]),x=(0,n.Z)(u,2),m=x[0],v=x[1],j=(0,a.useContext)(f.S);function p(){return(p=(0,w.Z)(N().mark((function s(){return N().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:""!=i&&((0,d.Hz)(j.id,e,i),o(""));case 1:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return(0,a.useEffect)((function(){var s=(0,d._U)(e);return(0,l.cf)(s,(function(e){v(e.docs.map((function(e){return(0,r.Z)({id:e.id},e.data())})))}))}),[e]),(0,h.jsxs)("div",{className:"w-full hidden lg:flex lg:w-2/5 lg:mr-12 h-screen border-r border-gray-600 flex-col",children:[(0,h.jsx)("div",{className:"p-2 grow flex flex-col-reverse overflow-y-scroll tl items-start",children:m&&m.map((function(e){return(0,h.jsx)(y,{text:e.text,userId:e.userId,timestamp:e.timestamp},e.id)}))}),(0,h.jsxs)("div",{className:"p-2 h-24 border-t border-gray-600 overflow-hidden w-full flex",children:[(0,h.jsx)("input",{className:"w-full font-medium text-md bg-transparent  pl-4 bg-gray-600 rounded-full rounded-r-none focus-visible:outline-none",id:"textt",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Start a new message",type:"text"}),(0,h.jsx)("button",{onClick:function(){return p.apply(this,arguments)},type:"button",className:"border-l p-4 bg-gray-600 rounded-full rounded-l-none hover:bg-gray-700",children:"Reply"})]})]})}function C(){return(0,h.jsx)("div",{className:"hidden lg:block w-2/5 mr-12 border-r border-gray-600",children:(0,h.jsxs)("div",{className:"w-80 mx-auto my-80",children:[(0,h.jsx)("h2",{className:"font-bold text-3xl",children:"Select a message"}),(0,h.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Choose from your existing conversations, start a new one, or just keep swimming."})]})})}var S=function(){var e=(0,p.a)(),s=(0,c.s0)(),t=(0,a.useState)(),i=(0,n.Z)(t,2),o=i[0],u=i[1];return(0,a.useEffect)((function(){if(e)return(0,l.cf)((0,d.PR)(e.uid),(function(e){u((0,r.Z)({id:e.docs[0].id},e.docs[0].data()))}));s("/login")}),[e]),o&&e&&(0,h.jsx)("div",{className:"App flex",children:(0,h.jsxs)(f.S.Provider,{value:o,children:[(0,h.jsx)(g,{}),(0,h.jsxs)("div",{className:"w-full lg:w-2/5 border-x relative border-gray-600 h-screen",children:[(0,h.jsx)(v,{currentUserDb:o,className:"absolute z-50 top-0 left-0 right-0"}),(0,h.jsxs)("div",{className:"overflow-y-scroll tl h-full",children:[(0,h.jsx)("div",{className:"p-9"}),(0,h.jsx)(c.j3,{})]})]}),(0,h.jsxs)(c.Z5,{children:[(0,h.jsx)(c.AW,{path:"messages",element:(0,h.jsx)(C,{})}),(0,h.jsx)(c.AW,{path:"messages/:roomId",element:(0,h.jsx)(k,{})})]})]})})}},761:function(e,s,t){t.d(s,{S:function(){return r}});var r=(0,t(2791).createContext)({})}}]);
//# sourceMappingURL=400.0932c99b.chunk.js.map