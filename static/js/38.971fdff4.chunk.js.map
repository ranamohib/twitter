{"version":3,"file":"static/js/38.971fdff4.chunk.js","mappings":"iQASe,SAASA,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAMC,EAAN,KAAaC,EAAb,KACA,GAAgCF,EAAAA,EAAAA,UAAS,IAAzC,eAAMG,EAAN,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,IAAnC,eAAMK,EAAN,KAAaC,EAAb,KACIC,GAAWC,EAAAA,EAAAA,MAJe,wCAU9B,WAAiCC,GAAjC,wEACEA,EAAEC,iBADJ,mBAGUC,EAAAA,EAAAA,IAA2BC,EAAAA,GAAMX,EAAOE,GAHlD,OAIII,EAAS,KAJb,gDAOIL,EAAS,IACTE,EAAY,IACZE,EAAS,KAAMO,SATnB,0DAV8B,8DAuB9B,qGAEqBC,EAAAA,EAAAA,IAAgBF,EAAAA,GAAM,IAAIG,EAAAA,IAF/C,cAEMC,EAFN,OAGEC,QAAQC,IAAIF,GAHd,KAI+BG,EAAAA,GAJ/B,SAImDH,EAAOI,KAAKC,YAJ/D,kHAQYC,EAAAA,EAAAA,IAAQN,EAAOI,KAAKJ,EAAOI,KAAKC,YAAYL,EAAOI,KAAKC,YAAYL,EAAOI,KAAKnB,OAR5F,QASMM,EAAS,KATf,mDAYMU,QAAQC,IAAR,MACAZ,EAAS,KAAIO,SAbnB,QAgBEN,EAAS,KAhBX,4DAvB8B,sBAyC9B,OAnCAgB,EAAAA,EAAAA,YAAU,WACRC,SAASC,MAAQ,oBACjB,KAkCA,0BACE,iBAAKC,UAAU,qDAAf,WACE,iBAAKA,UAAU,8EAAf,WACE,eAAIA,UAAU,qBAAd,sBACA,kBAAMC,SA9CgB,4CA8CaD,UAAU,0BAA7C,UACGrB,IAAS,cAAGqB,UAAU,4BAAb,SAA0CrB,KACpD,kBAAOuB,WAAS,EACTF,UAAU,oHACVG,GAAG,QAAQC,YAAY,QAAQC,KAAK,OAAOC,MAAO/B,EAAOgC,SAAU,SAAAxB,GAAC,OAAIP,EAASO,EAAEyB,OAAOF,WACjG,kBAAOJ,WAAS,EACTF,UAAU,qHACVG,GAAG,WAAWC,YAAY,WAAWC,KAAK,WAAYC,MAAO7B,EAAU8B,SAAU,SAAAxB,GAAC,OAAIL,EAAYK,EAAEyB,OAAOF,WAClH,mBAAQN,UAAU,sGAAlB,wBAIF,iBAAKA,UAAU,0CAAf,WACE,iBAAMA,UAAU,mDAChB,iBAAMA,UAAU,gDAAhB,iBACA,iBAAMA,UAAU,sDAElB,oBAAQS,QA/Dc,2CA+DeT,UAAU,qFAA/C,WACE,SAAC,IAAD,CAAiBU,KAAMC,EAAAA,OACvB,iBAAMX,UAAU,kCAAhB,oCAEF,cAAGA,UAAU,kDAAb,kCAEA,iBAAKA,UAAU,0DAAf,WACE,iBAAMA,UAAU,UAAhB,sCACA,SAAC,KAAD,CAAMY,GAAG,UAAUZ,UAAU,sCAA7B","sources":["pages/Login.jsx"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport { Link, useNavigate } from 'react-router-dom';\n\nimport { useState,useEffect } from 'react';\nimport { addUser, auth, doesUserExist, } from '../firebase/config';\nimport { signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider } from 'firebase/auth';\n\n\nexport default function Login() {\n  let [ email, setEmail ] = useState('');\n  let [ password, setPassword ] = useState('');\n  let [ error, setError ] = useState('');\n  let navigate = useNavigate();\n\n  useEffect(()=>{\n    document.title = 'Log In -firewit';\n  },[]);\n\n  async function handleEmailSignIn(e){\n    e.preventDefault();\n    try{\n      await signInWithEmailAndPassword(auth, email, password)\n      navigate('/');\n    }\n    catch(error){\n      setEmail('');\n      setPassword('');\n      setError(error.message);\n    }\n  }\n  \n  async function handleGoogleSignIn(){\n\n    let result = await signInWithPopup(auth, new GoogleAuthProvider());\n    console.log(result)\n    const usernameExists = await doesUserExist(await result.user.displayName); \n    if(!usernameExists){\n      try{\n\n        await addUser(result.user,result.user.displayName,result.user.displayName,result.user.email);\n        navigate('/');\n      }\n      catch(err){\n        console.log(err)\n        setError(err.message);\n      }\n    }\n    navigate('/');\n  }\n  return (\n    <div>\n      <div className=\"h-screen flex flex-col justify-center items-center\">\n        <div className=\"border border-gray-600 w-80 py-8 flex items-center flex-col mb-3 rounded-sm\">\n          <h1 className=\"font-bold text-2xl\">firewit</h1>\n          <form onSubmit={handleEmailSignIn} className=\"mt-8 w-64 flex flex-col\">\n            {error && <p className='text-xs text-red-300 mb-2'>{error}</p>}\n            <input autoFocus\n                   className=\"text-xs w-full mb-2 rounded-sm bg-gray-600 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none\"\n                   id=\"email\" placeholder=\"Email\" type=\"text\" value={email} onChange={e => setEmail(e.target.value)}/>\n            <input autoFocus\n                   className=\"text-xs w-full mb-4 rounded-sm  bg-gray-600 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none\"\n                   id=\"password\" placeholder=\"Password\" type=\"password\"  value={password} onChange={e => setPassword(e.target.value)}/>\n            <button className=\"text-xs w-full text-center bg-blue-400 text-white rounded font-semibold px-2 py-2 hover:bg-blue-500\">\n                Log In\n            </button>\n          </form>\n          <div className=\"flex justify-evenly space-x-2 w-64 mt-4\">\n            <span className=\"bg-gray-300 h-px flex-grow t-2 relative top-3\"></span>\n            <span className=\"flex-none text-xs text-gray-400 font-semibold\">or</span>\n            <span className=\"bg-gray-300 h-px flex-grow t-2 relative top-3\"></span>\n          </div>\n          <button onClick={handleGoogleSignIn} className=\"mt-4 flex bg-blue-400 text-white rounded font-semibold px-2 py-2 hover:bg-blue-500\">\n            <FontAwesomeIcon icon={faGoogle} />\n            <span className=\"text-xs w-full text-center ml-2\">Log in with Google</span>\n          </button>\n          <a className=\"text-xs text-blue-400 mt-4 cursor-pointer -mb-4\">Forgot password?</a>\n          </div>\n          <div className=\"border rounded-sm border-gray-600 text-center w-80 py-4\">\n            <span className=\"text-sm\">Don't have an account? </span>\n            <Link to='/signup' className=\"text-blue-400 text-sm font-semibold\">Sign up</Link>\n          </div>\n      </div>  \n    </div>\n  )\n}\n\n"],"names":["Login","useState","email","setEmail","password","setPassword","error","setError","navigate","useNavigate","e","preventDefault","signInWithEmailAndPassword","auth","message","signInWithPopup","GoogleAuthProvider","result","console","log","doesUserExist","user","displayName","addUser","useEffect","document","title","className","onSubmit","autoFocus","id","placeholder","type","value","onChange","target","onClick","icon","faGoogle","to"],"sourceRoot":""}